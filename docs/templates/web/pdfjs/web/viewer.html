<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>PDF Viewer</title>
  
  <!-- Основные скрипты -->
  <script src="../build/pdf.js"></script>
  <script src="viewer.js"></script>
  <link rel="stylesheet" href="viewer.css">
  
  <script>
    // Конфигурация для GitHub Pages
    window.PDFJS = window.PDFJS || {};
    window.PDFJS.workerSrc = '../build/pdf.worker.js';
    
    // Формируем правильный путь к PDF
    const urlParams = new URLSearchParams(window.location.search);
    const filename = urlParams.get('file');
    
    if (filename) {
      // Абсолютный путь на GitHub Pages
      const pdfPath = `/sasp/pdf/${filename}`;
      
      // Передаем путь в viewer
      window.PDFViewerApplicationOptions = {
        defaultUrl: pdfPath
      };
      
      console.log('PDF will load from:', pdfPath);
    }
  </script>
</head>

<body>
  <div id="outerContainer">
    <div id="mainContainer">
      <div id="viewerContainer">
        <div id="viewer" class="pdfViewer"></div>
      </div>
    </div>
  </div>
</body>
</html>