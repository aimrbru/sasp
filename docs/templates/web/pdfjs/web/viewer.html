<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>PDF Viewer</title>
  
  <!-- АБСОЛЮТНЫЕ ПУТИ К PDF.JS -->
  <script src="/sasp/pdfjs/build/pdf.js"></script>
  <script src="/sasp/pdfjs/web/viewer.js"></script>
  <link rel="stylesheet" href="/sasp/pdfjs/web/viewer.css">
</head>

<body>
  <div id="outerContainer">
    <div id="mainContainer">
      <div id="viewerContainer">
        <div id="viewer" class="pdfViewer"></div>
      </div>
    </div>
  </div>

  <script>
    // АБСОЛЮТНЫЙ ПУТЬ К PDF ФАЙЛУ
    const urlParams = new URLSearchParams(window.location.search);
    const fileParam = urlParams.get('file');
    
    if (fileParam) {
      // Убираем ../ если есть
      let pdfPath = fileParam.replace(/^\.\.\//, '');
      pdfPath = pdfPath.replace(/^\.\//, '');
      
      // Формируем абсолютный путь
      const absolutePath = `/sasp/pdf/${pdfPath}`;
      
      console.log('Loading PDF:', absolutePath);
      
      // Настраиваем PDF.js
      window.PDFViewerApplicationOptions = {
        defaultUrl: absolutePath
      };
    }
  </script>
</body>
</html>